<mat-nav-list>
  <mat-list>
    <a mat-list-item class="drop-receiver"
       [routerLink]="[i18nService.currentLanguage.code, 'task']"
       [fragment]="TaskGroup.INBOX.value"
       [class.selected]="isRouterLinkActive('task', TaskGroup.INBOX.value)"
       [appFocused]="isFocused('task', TaskGroup.INBOX.value)"
       (click)="onListItemClick(TaskGroup.INBOX)"
       (dragover)="onListItemDragOver($event)"
       (_drop)="onDrop($event, TaskGroup.INBOX)">
      <mat-icon mat-list-icon>inbox</mat-icon>
      <span matLine>{{ 'inbox' | translate }}</span>
      <span *ngIf="hasTasks(TaskGroup.INBOX) | async"
            [matBadge]="getTaskCount(TaskGroup.INBOX) | async | number"
            matBadgeOverlap="true"
            class="mr-2"></span>
    </a>

    <mat-divider></mat-divider>

    <ng-container>
      <h3 matSubheader>{{ 'scheduled_for' | translate }}</h3>

      <a mat-list-item class="drop-receiver"
         [routerLink]="[i18nService.currentLanguage.code, 'task']"
         [fragment]="TaskGroup.TODAY.value"
         [class.selected]="isRouterLinkActive('task', TaskGroup.TODAY.value)"
         [appFocused]="isFocused('task', TaskGroup.TODAY.value)"
         (click)="onListItemClick(TaskGroup.TODAY)"
         (dragover)="onListItemDragOver($event)"
         (_drop)="onDrop($event, TaskGroup.TODAY)">
        <mat-icon mat-list-icon class="mat-date-icon">
          calendar_today
          <span>{{ todayDate }}</span>
        </mat-icon>
        <p matLine>{{ 'scheduled_for_today' | translate }}</p>
        <span *ngIf="hasTasks(TaskGroup.TODAY) | async"
              [matBadge]="getTaskCount(TaskGroup.TODAY) | async | number"
              matBadgeOverlap="true"
              class="mr-2"></span>
      </a>

      <a mat-list-item class="drop-receiver"
         [routerLink]="[i18nService.currentLanguage.code, 'task']"
         [fragment]="TaskGroup.TOMORROW.value"
         [class.selected]="isRouterLinkActive('task', TaskGroup.TOMORROW.value)"
         [appFocused]="isFocused('task', TaskGroup.TOMORROW.value)"
         (click)="onListItemClick(TaskGroup.TOMORROW)"
         (dragover)="onListItemDragOver($event)"
         (_drop)="onDrop($event, TaskGroup.TOMORROW)">
        <mat-icon mat-list-icon class="mat-date-icon">
          calendar_today
          <span>{{ tomorrowDate }}</span>
        </mat-icon>
        <p matLine>{{ 'scheduled_for_tomorrow' | translate }}</p>
        <span *ngIf="hasTasks(TaskGroup.TOMORROW) | async"
              [matBadge]="getTaskCount(TaskGroup.TOMORROW) | async | number"
              matBadgeOverlap="true"
              class="mr-2"></span>
      </a>

      <a mat-list-item class="drop-receiver"
         [routerLink]="[i18nService.currentLanguage.code, 'task']"
         [fragment]="TaskGroup.WEEK.value"
         [class.selected]="isRouterLinkActive('task', TaskGroup.WEEK.value)"
         [appFocused]="isFocused('task', TaskGroup.WEEK.value)"
         (click)="onListItemClick(TaskGroup.WEEK)"
         (dragover)="onListItemDragOver($event)"
         (_drop)="onDrop($event, TaskGroup.WEEK)">
        <mat-icon mat-list-icon class="mat-date-icon">
          calendar_today
          <span>W</span>
        </mat-icon>
        <p matLine>{{ 'scheduled_for_week' | translate }}</p>
        <span *ngIf="hasTasks(TaskGroup.WEEK) | async"
              [matBadge]="getTaskCount(TaskGroup.WEEK) | async | number"
              matBadgeOverlap="true"
              class="mr-2"></span>
      </a>

      <a mat-list-item class="drop-receiver"
         [routerLink]="[i18nService.currentLanguage.code, 'task']"
         [fragment]="TaskGroup.SOME_DAY.value"
         [class.selected]="isRouterLinkActive('task', TaskGroup.SOME_DAY.value)"
         [appFocused]="isFocused('task', TaskGroup.SOME_DAY.value)"
         (click)="onListItemClick(TaskGroup.SOME_DAY)"
         (dragover)="onListItemDragOver($event)"
         (_drop)="onDrop($event, TaskGroup.SOME_DAY)">
        <mat-icon mat-list-icon class="mat-date-icon">
          calendar_today
          <span>?</span>
        </mat-icon>
        <p matLine>{{ 'scheduled_for_some_day' | translate }}</p>
        <span *ngIf="hasTasks(TaskGroup.SOME_DAY) | async"
              [matBadge]="getTaskCount(TaskGroup.SOME_DAY) | async | number"
              matBadgeOverlap="true"
              class="mr-2"></span>
      </a>
    </ng-container>

    <mat-divider></mat-divider>

    <a mat-list-item
       [routerLink]="[i18nService.currentLanguage.code, 'task']"
       [fragment]="TaskGroup.ALL.value"
       [class.selected]="isRouterLinkActive('task', TaskGroup.ALL.value)"
       [appFocused]="isFocused('task', TaskGroup.ALL.value)"
       (click)="onListItemClick(TaskGroup.ALL)">
      <mat-icon mat-list-icon>assignment</mat-icon>
      <p matLine>{{ 'all_tasks' | translate }}</p>
      <span *ngIf="hasTasks(TaskGroup.ALL) | async"
            [matBadge]="getTaskCount(TaskGroup.ALL) | async | number"
            matBadgeOverlap="true"
            class="mr-2"></span>
    </a>

    <mat-divider></mat-divider>

    <mat-accordion>
      <mat-expansion-panel class="mat-elevation-z0">
        <mat-expansion-panel-header class="pl-3">
          <div class="d-flex flex-row align-items-center">
            <mat-icon class="p-1">label</mat-icon>
            <span class="pl-3">{{ 'tags' | translate }}</span>
          </div>
        </mat-expansion-panel-header>

        <app-sidenav-tags></app-sidenav-tags>
      </mat-expansion-panel>

      <mat-expansion-panel class="mat-elevation-z0">
        <mat-expansion-panel-header class="pl-3">
          <div class="d-flex flex-row align-items-center">
            <mat-icon class="p-1">list</mat-icon>
            <span class="pl-3">{{ 'task_lists' | translate }}</span>
          </div>
        </mat-expansion-panel-header>

        <app-sidenav-task-lists></app-sidenav-task-lists>
      </mat-expansion-panel>
    </mat-accordion>

    <mat-divider></mat-divider>

    <a mat-list-item
       [routerLink]="[i18nService.currentLanguage.code, 'archive']"
       [class.selected]="isRouterLinkActive('archive')"
       [appFocused]="isFocused('archive')">
      <mat-icon mat-list-icon>inventory_2</mat-icon>
      <span matLine>{{ 'archive' | translate }}</span>
    </a>
  </mat-list>
</mat-nav-list>
